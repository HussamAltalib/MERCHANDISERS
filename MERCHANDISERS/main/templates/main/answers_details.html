{% extends 'main/base.html' %}
{% load static %}

{% block title %}   Question Pgae  {% endblock %}


{% block content %}

<main class="container">
    <div class="row g-5">
        <div class="col-md-8">
            <div class="border-bottom ms-3 mb-5"> 
                <a href="{% url 'main:ask_question_page' %}">
                    <button style="margin-left: 80%;" type="button" class="btn btn-primary mb-4 mt-3">Ask Question</button>
                </a>
            </div>
        
        


        
                
            <!-- ######### Question Start ############ -->

            <div class="container ms-3">    
                <div class="row">
                        <div class="col-1  pt-4">
                            <!------------- Start Upgrade Question ---------------->
                            <a href="{% url 'main:upgrade_question' question.id %}" data-toggle="tooltip" title="This question is useful">
                                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-caret-up" viewBox="0 0 16 16">
                                    <path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>
                                </svg>
                            </a>
                            <!------------- End Upgrade Question ---------------->
                            <h5 style="margin-left: 15px;">{{ question_score }}</h5>
                            <!------------- Start Downgrade Question ------------->
                            <a href="{% url 'main:downgrade_question' question.id %}" data-toggle="tooltip" title="This question is not useful">
                                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16" >
                                    <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                                </svg>
                            </a>
                            <!------------- End Downgrade Question ---------------->
                            <a href="{% url 'main:cancel_my_vote' question.id %} " style="margin-left: 7px;" data-toggle="tooltip" title="cancel my vote">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>
                        </div>

                        <div class="col-11">
                            <div class="post-preview mb-5 ">
                                <h2 class="post-title">{{ question.title}}</h2>
                                <p style="font-size: small;" class="post-meta">
                                    Asked by
                                    <a href="{% url 'main:profile_page'  question.user.id  %}"> 
                                        <strong>{{ question.user.username}}</strong> 
                                    </a>
                                    on {{ question.asked_at}}
                                </p>
                                <hr style="width: 500px;" class="my-4" />
                                <h4> {{ question.details }}</h4>    
                            </div>
                        </div>    
                    <hr class="my-4" />     
                </div>
            </div>

            <!-- ######### Question End ############ -->



            <!-- ######### Answers Start ############ -->

            <div class="container ms-3 mt-5 ">
                <h4 class="mb-5"> {{ answers_number }} Answers</h4>
                {% for answer in answers %}
                <div class="row">
                    <div class="col-1  pt-1">
                        <!------------- Start Upgrade Answer ---------------->
                        <a href="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-caret-up" viewBox="0 0 16 16">
                                <path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>
                            </svg>
                        </a>
                        <!------------- End Upgrade Answer ---------------->
                        <h5>{{ answer_score }}</h5>
                        <!------------- Start Downgrade Answer ------------->
                        <a href="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16">
                                <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                            </svg>
                        </a>
                        <!------------- End Downgrade Answer ---------------->
                    </div>
                    
                    <div class="col-11">
                        <div class="post-preview">
                            <p>{{ answer.answer }}</p>
                            <p style="font-size: small;" class="post-meta">
                                Answered by
                                <a href="{% url 'main:profile_page'  answer.user.id  %}">
                                    <strong>{{ answer.user.username}}</strong>
                                </a>
                                on {{ answer.answered_at}}
                            </p>
                        </div>
                    </div>
                    <hr class="my-4" />
                </div>
                {% endfor %}
            </div>

        <!-- ######### Answers End ############ -->


        <!-- ######### Post Answer Start ############ -->

        <div class="container_Register" id="container">
            <form method="post" action="" > 
                {% csrf_token %}
                <div class="container" style="padding: 20px;">
                    
                    <div class="mb-3">
                        <label for="Answer" class="form-label">Your Answer</label>
                        <textarea name="answer" style="height: 200px;" class="form-control"  rows="3" required></textarea>
                    </div>
                </div>
                <button style="margin-top: 50px;" class="btn btn-primary ms-5" type="submit">Post Your Answer</button>
        
            </form>
        </div>

        <!-- ######### Post Answer End ############ -->
        </div>


        <!-- ######### Side Navigation Start ############ -->

        <div class="col-6 col-md-4">
        <div class="position-sticky" style="top: 2rem;">
            <div class="p-4 mb-3 bg-light rounded">
            <h4 class="fst-italic">About</h4>
            <p class="mb-0">Customize this section to tell your visitors a little bit about your publication, writers, content, or something else entirely. Totally up to you.</p>
            </div>

            <div class="p-4">
            <h4 class="fst-italic">Archives</h4>
            <ol class="list-unstyled mb-0">
                <li><a href="#">March 2021</a></li>
                <li><a href="#">February 2021</a></li>
            </ol>
            </div>

            <div class="p-4">
            <h4 class="fst-italic">Elsewhere</h4>
            <ol class="list-unstyled">
                <li><a href="#">GitHub</a></li>
                <li><a href="#">Twitter</a></li>
                <li><a href="#">Facebook</a></li>
            </ol>
            </div>
        </div>
        </div>

        <!-- ######### Side Navigation End ############ -->
    </div>
</main>

  


{% endblock %}
